
@{
    ViewData["Title"] = "CompanyWorkExperience";
    Layout = null;
}

<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="utf-8">
    <title>Exp</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="~/Content/comExpstyle.css">
</head>

<body>

    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg">
        <a href="#" class="navbar-brand"><img src="~/img/Logo.png" alt="logo"></a>
        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Collection of nav links, forms, and other content for toggling -->
        <div id="navbarCollapse" class="collapse navbar-collapse justify-content-start">
            <div class="navbar-nav">
                <a href="" class="nav-item nav-link">Home</a>
                <div class="nav-item dropdown">
                    <a href="#" data-toggle="dropdown" class="nav-item nav-link dropdown-toggle">Why us</a>
                    <div class="dropdown-menu">
                        <a href="" class="dropdown-item">Web Design</a>
                        <a href="" class="dropdown-item">Web Development</a>
                        <a href="" class="dropdown-item">Graphic Design</a>
                        <a href="" class="dropdown-item">Digital Marketing</a>
                    </div>
                </div>
                <a href="" class="nav-item nav-link active">Team</a>
                <a href="" class="nav-item nav-link active">Clients Saying</a>
                <a href="" class="nav-item nav-link">Contact</a>

            </div>

            <div class="navbar-nav ml-auto action-buttons">
                <a href="@Url.Action("GoToComapnyReg","Users",null)" id="company" class="btn btn-1 nav-item  sign-up-btn nav-link mr-4 ">For Employers</a>
                <a href="@Url.Action("GoToLogin","Users",null)" class="btn btn-1 nav-item sign-up-btn nav-link mr-4">&nbsp;&nbsp; Login &nbsp;&nbsp;</a>
                <a href="@Url.Action("GoToPersonalReg","Users",null)" class="btn btn-1  nav-item sign-up-btn">Sign up</a>
            </div>
        </div>
    </nav>
    <!-- Navbar end -->
    <!-- Header Start -->
    <section class="trial-block shadow3" id="ContactUs">
        <div class="height450">
            <div class="social-overlap process-scetion mt100">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-md-10">
                            <div class="social-bar">
                                <div class="social-icons mb-3 iconpad text-center">
                                    <a href="" id="reg" class="slider-nav-item "><span class="material-icons">app_registration</span></a>
                                    <a href="" id="det" class="slider-nav-item "><span class="material-icons">account_circle</span></a>
                                    <a href="" id="exp" class="slider-nav-item active"><span class="material-icons">description</span></a>
                                    <a href="" id="proj" class="slider-nav-item "><span class="material-icons">camera</span></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Header end -->
    <!-- Form Reg -->
    <section class="reg">
        <div class="container" id="ExperienceForm">
            <div class="title"><i class="fa fa-briefcase"></i>Work Experience</div>
            <div class="content">
                <form id="Experience">
                    <div class="user-details" id="Experiencesuser">
                        <div class="input-box full">
                            <span class="details">Job Title</span>
                            <input type="text" name="JobTitle" class="JobTitle" autocomplete='off'>
                        </div>
                        <div class="input-box full">
                            <span class="details">Description</span>
                            <textarea name="Description" class="Description" autocomplete='off'></textarea>
                        </div>
                    </div>
                </form>
                <div class="buttonADD" id="button">
                    <div class="next">
                        <input type="button" value="Add more fields" id="addExperience">
                        <input type="button" value="Save all data" id="saveExperience">
                    </div>
                </div>
            </div>
        </div>

        <div class="container" id="ServicesForm">
            <div class="title"><i class="fa fa-briefcase"></i>Services</div>
            <div class="content">
                <form id="Services">
                    <div class="user-details" id="Servicesuser">
                        <div class="input-box full">
                            <span class="details">Service</span>
                            <input type="text" name="JobTitle" class="JobTitle" autocomplete='off'>
                        </div>
                        <div class="input-box full">
                            <span class="details">Description</span>
                            <textarea name="Description" class="Description" autocomplete='off'></textarea>
                        </div>
                    </div>
                </form>
                <div class="buttonADD" id="button2">
                    <div class="next">
                        <input type="button" value="Add more fields" id="addservices">
                        <input type="button" value="Save all data" id="saveservices">
                    </div>
                </div>
            </div>
        </div>

        <div class="container" id="SkillsForm">
            <div class="title"><i class="fa fa-briefcase"></i>Skills</div>
            <div class="content">
                <form id="Skills">
                    <div class="user-details" id="Skillsuser">
                        <div class="input-box full">
                            <span class="details">Skills</span>
                            <input type="text" name="skill" autocomplete="off" class="skill">
                        </div>
                    </div>
                </form>
                <div class="buttonADD" id="button3">
                    <div class="next">
                        <input type="button" value="Add more fields" name="add" id="add">
                    </div>
                </div>
            </div>
        </div>
        <div class="button">
            <div class="back">
                <span class="material-icons">
                    arrow_back
                </span>
                <input type="button" value="Back" onclick="location.href='@Url.Action("CompanyDet", "Users")'">
            </div>

            <div class="next">
                <input type="button" value="Next" name="save" id="save">
                <span class="material-icons" id="next">
                    arrow_forward
                </span>
            </div>
        </div>
    </section>
    <!-- Form Reg end-->
    <!-- script -->
    <script src="~/Scripts/PersoanReg.js"></script>

    <script>
        //Experience
        $(document).ready(function () {
            var count = 1;
            $('#addExperience').click(function () {
                count = count + 1;
                var html_code = "<div class='user-details' id='row" + count + "'>";
                html_code += "<div class='delete' style=' width: 100%; height: 30px; display: block;'><button type='button' name='remove' data-row='row" + count + "' class='btn-danger btn-xs remove' style='width:25px;height:25px'>-</button></div>";
                html_code += "<div class='input-box full'><span class='details'>Job Title</span><input type='text' autocomplete='off' name='JobTitle' class='JobTitle'></div>";
                html_code += "<div class='input-box full'><span class='details'> Description</span><textarea autocomplete='off' name='Description' class='Description'></textarea></div >";
                html_code += "</div>";
                $('#Experience').append(html_code);
            });
        });
        $(document).on('click', '.remove', function () {
            var delete_row = $(this).data("row");
            $('#' + delete_row).remove();
        });
        $("body").on("click", "#saveExperience", function () {
            //Loop through the Table rows and build a JSON array.
            $("#saveExperience").hide();
            var Experiences = new Array();
            $("#Experience .user-details").each(function () {
                var row = $(this);
                var Experience = {};
                Experience.JobTitle = row.find("input").eq(0).val();
                Experience.Description = row.find("textarea").eq(0).val();
                Experiences.push(Experience);
            });
            $.ajax({
                method: "POST",
                url: "/CompanWorkExperience/ExperiencesSaveData",
                data: JSON.stringify(Experiences),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function () {
                    alert("Data Saved.");
                    $("#saveExperience").show();
                }
            });
        });

        //Services
        $(document).ready(function () {
            var count = 1;
            $('#addservices').click(function () {
                count = count + 1;
                var html_code = "<div class='user-details' id='row" + count + "'>";
                html_code += "<div class='delete' style=' width: 100%; height: 30px; display: block;'><button type='button' name='remove' data-row='row" + count + "' class='btn-danger btn-xs remove' style='width:25px;height:25px'>-</button></div>";
                html_code += "<div class='input-box full'><span class='details'>Service</span><input type='text' autocomplete='off' name='JobTitle' class='JobTitle'></div>";
                html_code += "<div class='input-box full'><span class='details'> Description</span><textarea autocomplete='off' name='Description' class='Description'></textarea></div >";
                html_code += "</div>";
                $('#Services').append(html_code);
            });
        });
        $(document).on('click', '.remove', function () {
            var delete_row = $(this).data("row");
            $('#' + delete_row).remove();
        });
        $("body").on("click", "#saveservices", function () {
            //Loop through the Table rows and build a JSON array.
            $("#saveservices").hide();
            var Services = new Array();
            $("#Services .user-details").each(function () {
                var row = $(this);
                var Service = {};
                Service.JobTitle = row.find("input").eq(0).val();
                Service.Description = row.find("textarea").eq(0).val();
                Services.push(Service);
            });
            $.ajax({
                method: "POST",
                url: "/CompanWorkExperience/ServicesSaveData",
                data: JSON.stringify(Services),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function () {
                    alert("Data Saved.");
                    $("#saveservices").show();
                }
            });
        });


        //skills
        $(document).ready(function () {
            var count = 1;
            $('#add').click(function () {
                count = count + 1;
                var html_code = "<div class='user-details' id='row" + count + "'>";
                html_code += "<div class='delete' style=' width: 100%; height: 30px; display: block;'><button type='button' name='remove' data-row='row" + count + "' class='btn-danger btn-xs remove' style='width:25px;height:25px'>-</button></div>";
                html_code += "<div class='input-box full'><span class='details'>Skills</span><input type='text'  class='skill' name='skill' autocomplete='off'></div>";
                html_code += "</div>";
                $('#Skills').append(html_code);
            });
        });
        $(document).on('click', '.remove', function () {
            var delete_row = $(this).data("row");
            $('#' + delete_row).remove();
        });
        $("body").on("click", "#save", function () {
            //Loop through the Table rows and build a JSON array.
            $("#save").hide();
            $("#next").hide();
            var skills = new Array();
            $("#Skills .user-details").each(function () {
                var row = $(this);
                var skill = {};
                skill.skill = row.find("input").eq(0).val();
                skills.push(skill);
            });
            $.ajax({
                method: "POST",
                url: "/CompanWorkExperience/SkillsSaveData",
                data: JSON.stringify(skills),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                error: function () {
                    alert("Error in record(s) inserted.");
                    $("#save").show();
                    $("#next").show();
                }
            });
        });
    </script>
</body>

</html>